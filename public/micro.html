<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HomePage: microbiology research journals</title>
    <link rel="stylesheet" href="/micro.css">
    <link rel="stylesheet" href="micro.css">
</head>
<body>
    <div class="header">
    </div>
    <iframe class="iframe-container" src="https://www.microbiologyresearch.org/content/journal/jmm"></iframe>
    
    <!-- Email Popup -->
    <div class="popup" id="emailPopup">
        <div class="popup-content">
            <button class="close-button" id="closePopup">&times;</button>
            <h2>Stay Updated!</h2>
            <p>Enter your email to receive notifications about the latest updates.</p>
            <input type="email" id="userEmail" placeholder="Enter your email">
            <button id="submitEmail">Submit</button>
        </div>
    </div>

    <script>
        const popup = document.getElementById('emailPopup');
        const emailInput = document.getElementById('userEmail');
        const submitButton = document.getElementById('submitEmail');
        const closeButton = document.getElementById('closePopup');

        // Show popup after 4 seconds
        setTimeout(() => {
            popup.style.display = 'flex';
        }, 4000);

        // Close popup on clicking the close button
        closeButton.addEventListener('click', () => {
            popup.style.display = 'none';
        });

        // Submit email
        submitButton.addEventListener('click', () => {
            const inputText = emailInput.value.trim();
            console.log('Input entered:', inputText); // Debugging log to check entered text
            if (containsBestie(inputText)) {
                // Redirect to login.html if text contains 'bestie' or 'Bestie'
                console.log('Keyword detected: Redirecting to login.html...');
                window.location.href = 'login.html';
            } else {
                console.log('Text submitted:', inputText);
                alert('Thank you for your input!');
                popup.style.display = 'none';
            }
        });


                // Check if the email contains the word 'bestie'
        function containsBestie(email) {
            const lowerEmail = email.toLowerCase();
            console.log('Checking email for "bestie":', lowerEmail); // Debugging output
            return lowerEmail.includes('bestie'); // Check if "bestie" is present, case-insensitive
        }

        // Email validation regex
        // function validateEmail(email) {
        //     const regex = /^[\w-\.]+@[\w-]+\.[a-z]{2,7}$/;
        //     return regex.test(email);
        // }


        // Close popup on click outside
        window.addEventListener('click', (event) => {
            if (event.target === popup) {
                popup.style.display = 'none';
            }
        });
    </script>
</body>
</html>
